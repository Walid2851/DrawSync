{"ast":null,"code":"var _jsxFileName = \"/Users/walid/Documents/Networking/drawsync/frontend/src/pages/GameRoom.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useCallback, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { ArrowLeft, Play, SkipForward, Trash2, Users, Clock, Crown, Palette, MessageSquare, Wifi, WifiOff, CheckCircle, Circle } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport toast from 'react-hot-toast';\nimport DrawingCanvas from '../components/DrawingCanvas';\nimport ChatBox from '../components/ChatBox';\nimport Button from '../components/Button';\nimport RoundEndPopup from '../components/RoundEndPopup';\nimport GameEndPopup from '../components/GameEndPopup';\nimport useGameStore from '../store/gameStore';\nimport useAuthStore from '../store/authStore';\nimport socketManager from '../utils/socket';\nimport { roomsAPI } from '../utils/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GameRoom = () => {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    token,\n    user\n  } = useAuthStore();\n  const {\n    players,\n    isInRoom,\n    isGameActive,\n    currentRound,\n    totalRounds,\n    timeRemaining,\n    currentWord,\n    isDrawing,\n    drawingData,\n    chatMessages,\n    guessInput,\n    isSocketConnected,\n    isLoading,\n    error,\n    showRoundEndPopup,\n    roundEndData,\n    showGameEndPopup,\n    gameEndData,\n    joinRoom,\n    leaveRoom,\n    deleteRoom,\n    setPlayers,\n    addChatMessageFromSocket,\n    addCorrectGuessMessage,\n    setGuessInput,\n    sendGuess,\n    sendChatMessage,\n    startGame,\n    setReady,\n    skipTurn,\n    resetGameState,\n    hideRoundEndPopup,\n    hideGameEndPopup,\n    handleSocketConnected,\n    handleAuthenticated,\n    handleRoomJoined,\n    handlePlayerJoined,\n    handlePlayerLeft,\n    handleGameStarted,\n    handleRoundStarted,\n    handleWordAssigned,\n    handleCorrectGuess,\n    handleAllGuessed,\n    handleRoundEnded,\n    handleGameEnded,\n    handleTimeUpdate,\n    handleCanvasCleared,\n    handleRoomDeleted,\n    handlePlayersUpdate,\n    handleDrawData,\n    handleGameState\n  } = useGameStore();\n  const [isReady, setIsReady] = useState(false);\n\n  // Socket event handlers\n  const handleSocketConnectedEvent = useCallback(data => {\n    handleSocketConnected(data);\n  }, [handleSocketConnected]);\n  const handleAuthenticatedEvent = useCallback(data => {\n    handleAuthenticated(data);\n    // Join room after successful authentication\n    console.log('Authentication successful, joining room...');\n    joinRoom(parseInt(roomId));\n  }, [handleAuthenticated, joinRoom, roomId]);\n  const handleRoomJoinedEvent = useCallback(data => {\n    handleRoomJoined(data);\n    toast.success('Joined room successfully!');\n  }, [handleRoomJoined]);\n  const handlePlayerJoinedEvent = useCallback(data => {\n    handlePlayerJoined(data);\n    toast(`${data.username} joined the room`, {\n      icon: 'ðŸ‘¤'\n    });\n  }, [handlePlayerJoined]);\n  const handlePlayerLeftEvent = useCallback(data => {\n    handlePlayerLeft(data);\n    toast(`${data.username} left the room`, {\n      icon: 'ðŸ‘¤'\n    });\n  }, [handlePlayerLeft]);\n  const handleGameStartedEvent = useCallback(data => {\n    handleGameStarted(data);\n    toast.success('Game started!');\n  }, [handleGameStarted]);\n  const handleRoundStartedEvent = useCallback(data => {\n    handleRoundStarted(data);\n    toast.success(`Round ${data.round} started!`);\n  }, [handleRoundStarted]);\n  const handleWordAssignedEvent = useCallback(data => {\n    handleWordAssigned(data);\n    if (data.word && data.word !== '_' * data.word.length) {\n      toast.success(`Your word: ${data.word}`);\n    }\n  }, [handleWordAssigned]);\n  const handleCorrectGuessEvent = useCallback(data => {\n    handleCorrectGuess(data);\n    toast.success(`${data.username} guessed correctly!`);\n  }, [handleCorrectGuess]);\n  const handleAllGuessedEvent = useCallback(data => {\n    handleAllGuessed(data);\n    toast.success('Everyone guessed correctly! Round ending...');\n  }, [handleAllGuessed]);\n  const handleRoundEndedEvent = useCallback(data => {\n    handleRoundEnded(data);\n    toast(`Round ${data.round} ended! Word was: ${data.word}`, {\n      icon: 'â¹ï¸'\n    });\n  }, [handleRoundEnded]);\n  const handleGameEndedEvent = useCallback(data => {\n    handleGameEnded(data);\n    toast.success('Game ended!');\n  }, [handleGameEnded]);\n  const handleTimeUpdateEvent = useCallback(data => {\n    handleTimeUpdate(data);\n  }, [handleTimeUpdate]);\n  const handleCanvasClearedEvent = useCallback(data => {\n    handleCanvasCleared(data);\n    toast('Canvas cleared', {\n      icon: 'ðŸ§¹'\n    });\n  }, [handleCanvasCleared]);\n  const handleRoomDeletedEvent = useCallback(data => {\n    handleRoomDeleted(data);\n    toast.error('Room has been deleted');\n    navigate('/dashboard');\n  }, [handleRoomDeleted, navigate]);\n  const handlePlayersUpdateEvent = useCallback(data => {\n    handlePlayersUpdate(data);\n  }, [handlePlayersUpdate]);\n  const handleChatMessageEvent = useCallback(data => {\n    addChatMessageFromSocket(data);\n  }, [addChatMessageFromSocket]);\n  const handleDrawDataEvent = useCallback(data => {\n    // Add incoming drawing data to the store\n    handleDrawData(data);\n    console.log('Draw data received:', data);\n  }, [handleDrawData]);\n  const handleGameStateEvent = useCallback(data => {\n    // Handle game state updates\n    handleGameState(data);\n    console.log('Game state update:', data);\n  }, [handleGameState]);\n\n  // Game controls\n  const handleStartGame = () => {\n    startGame();\n  };\n  const handleReadyToggle = () => {\n    const newReadyState = !isReady;\n    setIsReady(newReadyState);\n    setReady(newReadyState);\n  };\n  const handleSkipTurn = () => {\n    skipTurn();\n  };\n  const handleLeaveRoom = () => {\n    leaveRoom();\n    navigate('/dashboard');\n  };\n  const handleDeleteRoom = () => {\n    if (window.confirm('Are you sure you want to delete this room? All players will be disconnected.')) {\n      deleteRoom();\n      navigate('/dashboard');\n    }\n  };\n  const handleSendMessage = message => {\n    sendChatMessage(message);\n  };\n  const handleSendGuess = () => {\n    sendGuess();\n  };\n  const handleGoToDashboard = () => {\n    hideRoundEndPopup();\n    navigate('/dashboard');\n  };\n  const handleGoToDashboardFromGameEnd = () => {\n    hideGameEndPopup();\n    navigate('/dashboard');\n  };\n\n  // Check if current user is the drawer\n  const isCurrentDrawer = isDrawing;\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    console.log('GameRoom: Setting up socket connection...');\n\n    // Connect to socket\n    socketManager.connect(token);\n\n    // Register all event listeners\n    socketManager.on('socket_connected', handleSocketConnectedEvent);\n    socketManager.on('authenticated', handleAuthenticatedEvent);\n    socketManager.on('room_joined', handleRoomJoinedEvent);\n    socketManager.on('player_joined', handlePlayerJoinedEvent);\n    socketManager.on('player_left', handlePlayerLeftEvent);\n    socketManager.on('chat_message', handleChatMessageEvent);\n    socketManager.on('game_started', handleGameStartedEvent);\n    socketManager.on('round_started', handleRoundStartedEvent);\n    socketManager.on('correct_guess', handleCorrectGuessEvent);\n    socketManager.on('all_guessed', handleAllGuessedEvent);\n    socketManager.on('round_ended', handleRoundEndedEvent);\n    socketManager.on('game_ended', handleGameEndedEvent);\n    socketManager.on('time_update', handleTimeUpdateEvent);\n    socketManager.on('word_assigned', handleWordAssignedEvent);\n    socketManager.on('game_state', handleGameStateEvent);\n    socketManager.on('canvas_cleared', handleCanvasClearedEvent);\n    socketManager.on('draw_data', handleDrawDataEvent);\n    socketManager.on('room_deleted', handleRoomDeletedEvent);\n    socketManager.on('players_update', handlePlayersUpdateEvent);\n\n    // Initial fetch of players\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n\n    // Cleanup on unmount\n    return () => {\n      socketManager.off('socket_connected', handleSocketConnectedEvent);\n      socketManager.off('authenticated', handleAuthenticatedEvent);\n      socketManager.off('room_joined', handleRoomJoinedEvent);\n      socketManager.off('player_joined', handlePlayerJoinedEvent);\n      socketManager.off('player_left', handlePlayerLeftEvent);\n      socketManager.off('chat_message', handleChatMessageEvent);\n      socketManager.off('game_started', handleGameStartedEvent);\n      socketManager.off('round_started', handleRoundStartedEvent);\n      socketManager.off('correct_guess', handleCorrectGuessEvent);\n      socketManager.off('all_guessed', handleAllGuessedEvent);\n      socketManager.off('round_ended', handleRoundEndedEvent);\n      socketManager.off('game_ended', handleGameEndedEvent);\n      socketManager.off('time_update', handleTimeUpdateEvent);\n      socketManager.off('word_assigned', handleWordAssignedEvent);\n      socketManager.off('game_state', handleGameStateEvent);\n      socketManager.off('canvas_cleared', handleCanvasClearedEvent);\n      socketManager.off('draw_data', handleDrawDataEvent);\n      socketManager.off('room_deleted', handleRoomDeletedEvent);\n      socketManager.off('players_update', handlePlayersUpdateEvent);\n    };\n  }, [token, roomId, navigate, joinRoom, setPlayers, handleSocketConnectedEvent, handleAuthenticatedEvent, handleRoomJoinedEvent, handlePlayerJoinedEvent, handlePlayerLeftEvent, handleChatMessageEvent, handleGameStartedEvent, handleRoundStartedEvent, handleCorrectGuessEvent, handleAllGuessedEvent, handleRoundEndedEvent, handleGameEndedEvent, handleTimeUpdateEvent, handleWordAssignedEvent, handleGameStateEvent, handleCanvasClearedEvent, handleDrawDataEvent, handleRoomDeletedEvent, handlePlayersUpdateEvent]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          scale: 0.8\n        },\n        animate: {\n          opacity: 1,\n          scale: 1\n        },\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner w-8 h-8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-slate-900\",\n          children: \"Loading room...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-600 mt-2\",\n          children: \"Connecting to your drawing space\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          scale: 0.8\n        },\n        animate: {\n          opacity: 1,\n          scale: 1\n        },\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-white text-2xl\",\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-slate-900\",\n          children: \"Connection Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-600 mt-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/dashboard'),\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), \"Back to Dashboard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-layout\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"lg:col-span-4 card p-6 mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-6\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              onClick: () => navigate('/dashboard'),\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold gradient-text\",\n                children: [\"Room #\", roomId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-6 text-sm text-slate-600 mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Users, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [players.length, \" players\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Palette, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Round \", currentRound, \"/\", totalRounds]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), isGameActive && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-slate-800\",\n                    children: [timeRemaining, \"s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: isSocketConnected ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Wifi, {\n                      className: \"w-4 h-4 text-emerald-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-emerald-600 font-medium\",\n                      children: \"Connected\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(WifiOff, {\n                      className: \"w-4 h-4 text-red-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-red-600 font-medium\",\n                      children: \"Disconnected\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [!isGameActive && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleReadyToggle,\n                variant: isReady ? 'success' : 'secondary',\n                className: \"flex items-center space-x-2\",\n                children: [isReady ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 32\n                }, this) : /*#__PURE__*/_jsxDEV(Circle, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 70\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: isReady ? 'Ready' : 'Not Ready'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleStartGame,\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(Play, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Start Game\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), isGameActive && isCurrentDrawer && /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleSkipTurn,\n              variant: \"warning\",\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(SkipForward, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Skip Turn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleLeaveRoom,\n              variant: \"secondary\",\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Leave\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleDeleteRoom,\n              variant: \"danger\",\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: -20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        transition: {\n          delay: 0.2\n        },\n        className: \"game-sidebar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-slate-900 mb-4 flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Players\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: players.map((player, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                x: -10\n              },\n              animate: {\n                opacity: 1,\n                x: 0\n              },\n              transition: {\n                delay: index * 0.1\n              },\n              className: \"player-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"player-avatar\",\n                children: player.username.charAt(0).toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-slate-900 truncate\",\n                    children: player.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 23\n                  }, this), player.ready && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-4 h-4 text-emerald-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 25\n                  }, this), isGameActive && isCurrentDrawer && player.id === (user === null || user === void 0 ? void 0 : user.id) && /*#__PURE__*/_jsxDEV(Palette, {\n                    className: \"w-4 h-4 text-blue-500 animate-pulse\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Crown, {\n                    className: \"w-3 h-3 text-amber-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-semibold text-slate-700\",\n                    children: [player.score || 0, \" pts\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this)]\n            }, `${player.id}-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: 0.3\n        },\n        className: \"game-main\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card p-6 h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-slate-900 mb-2 flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Palette, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Drawing Canvas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 15\n            }, this), isGameActive && isCurrentDrawer && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass-card p-4 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-semibold text-slate-700\",\n                  children: \"Your word to draw:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-lg font-bold gradient-text\",\n                  children: currentWord\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"canvas-container\",\n            children: /*#__PURE__*/_jsxDEV(DrawingCanvas, {\n              width: 800,\n              height: 600\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: 20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        transition: {\n          delay: 0.4\n        },\n        className: \"game-sidebar\",\n        children: /*#__PURE__*/_jsxDEV(ChatBox, {\n          messages: chatMessages,\n          onSendMessage: handleSendMessage,\n          guessInput: guessInput,\n          onGuessInputChange: setGuessInput,\n          onSendGuess: handleSendGuess,\n          isGameActive: isGameActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RoundEndPopup, {\n      isOpen: showRoundEndPopup,\n      onClose: hideRoundEndPopup,\n      roundNumber: (roundEndData === null || roundEndData === void 0 ? void 0 : roundEndData.roundNumber) || 0,\n      word: (roundEndData === null || roundEndData === void 0 ? void 0 : roundEndData.word) || '',\n      players: (roundEndData === null || roundEndData === void 0 ? void 0 : roundEndData.players) || [],\n      onGoToDashboard: handleGoToDashboard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GameEndPopup, {\n      isOpen: showGameEndPopup,\n      onClose: hideGameEndPopup,\n      finalScores: (gameEndData === null || gameEndData === void 0 ? void 0 : gameEndData.finalScores) || {},\n      players: (gameEndData === null || gameEndData === void 0 ? void 0 : gameEndData.players) || [],\n      onGoToDashboard: handleGoToDashboardFromGameEnd\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 380,\n    columnNumber: 5\n  }, this);\n};\n_s(GameRoom, \"YMgMT68zedN10ohXxWvZ7bvQ5ik=\", false, function () {\n  return [useParams, useNavigate, useAuthStore, useGameStore];\n});\n_c = GameRoom;\nexport default GameRoom;\nvar _c;\n$RefreshReg$(_c, \"GameRoom\");","map":{"version":3,"names":["React","useEffect","useCallback","useState","useParams","useNavigate","ArrowLeft","Play","SkipForward","Trash2","Users","Clock","Crown","Palette","MessageSquare","Wifi","WifiOff","CheckCircle","Circle","motion","toast","DrawingCanvas","ChatBox","Button","RoundEndPopup","GameEndPopup","useGameStore","useAuthStore","socketManager","roomsAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","GameRoom","_s","roomId","navigate","token","user","players","isInRoom","isGameActive","currentRound","totalRounds","timeRemaining","currentWord","isDrawing","drawingData","chatMessages","guessInput","isSocketConnected","isLoading","error","showRoundEndPopup","roundEndData","showGameEndPopup","gameEndData","joinRoom","leaveRoom","deleteRoom","setPlayers","addChatMessageFromSocket","addCorrectGuessMessage","setGuessInput","sendGuess","sendChatMessage","startGame","setReady","skipTurn","resetGameState","hideRoundEndPopup","hideGameEndPopup","handleSocketConnected","handleAuthenticated","handleRoomJoined","handlePlayerJoined","handlePlayerLeft","handleGameStarted","handleRoundStarted","handleWordAssigned","handleCorrectGuess","handleAllGuessed","handleRoundEnded","handleGameEnded","handleTimeUpdate","handleCanvasCleared","handleRoomDeleted","handlePlayersUpdate","handleDrawData","handleGameState","isReady","setIsReady","handleSocketConnectedEvent","data","handleAuthenticatedEvent","console","log","parseInt","handleRoomJoinedEvent","success","handlePlayerJoinedEvent","username","icon","handlePlayerLeftEvent","handleGameStartedEvent","handleRoundStartedEvent","round","handleWordAssignedEvent","word","length","handleCorrectGuessEvent","handleAllGuessedEvent","handleRoundEndedEvent","handleGameEndedEvent","handleTimeUpdateEvent","handleCanvasClearedEvent","handleRoomDeletedEvent","handlePlayersUpdateEvent","handleChatMessageEvent","handleDrawDataEvent","handleGameStateEvent","handleStartGame","handleReadyToggle","newReadyState","handleSkipTurn","handleLeaveRoom","handleDeleteRoom","window","confirm","handleSendMessage","message","handleSendGuess","handleGoToDashboard","handleGoToDashboardFromGameEnd","isCurrentDrawer","connect","on","fetchPlayers","response","getRoomPlayers","err","off","className","children","div","initial","opacity","scale","animate","fileName","_jsxFileName","lineNumber","columnNumber","onClick","y","variant","x","transition","delay","map","player","index","charAt","toUpperCase","ready","id","score","width","height","messages","onSendMessage","onGuessInputChange","onSendGuess","isOpen","onClose","roundNumber","onGoToDashboard","finalScores","_c","$RefreshReg$"],"sources":["/Users/walid/Documents/Networking/drawsync/frontend/src/pages/GameRoom.jsx"],"sourcesContent":["import React, { useEffect, useCallback, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { \n  ArrowLeft, \n  Play, \n  SkipForward, \n  Trash2, \n  Users, \n  Clock, \n  Crown,\n  Palette,\n  MessageSquare,\n  Wifi,\n  WifiOff,\n  CheckCircle,\n  Circle\n} from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport toast from 'react-hot-toast';\nimport DrawingCanvas from '../components/DrawingCanvas';\nimport ChatBox from '../components/ChatBox';\nimport Button from '../components/Button';\nimport RoundEndPopup from '../components/RoundEndPopup';\nimport GameEndPopup from '../components/GameEndPopup';\nimport useGameStore from '../store/gameStore';\nimport useAuthStore from '../store/authStore';\nimport socketManager from '../utils/socket';\nimport { roomsAPI } from '../utils/api';\n\nconst GameRoom = () => {\n  const { roomId } = useParams();\n  const navigate = useNavigate();\n  const { token, user } = useAuthStore();\n  const {\n    players,\n    isInRoom,\n    isGameActive,\n    currentRound,\n    totalRounds,\n    timeRemaining,\n    currentWord,\n    isDrawing,\n    drawingData,\n    chatMessages,\n    guessInput,\n    isSocketConnected,\n    isLoading,\n    error,\n    showRoundEndPopup,\n    roundEndData,\n    showGameEndPopup,\n    gameEndData,\n    joinRoom,\n    leaveRoom,\n    deleteRoom,\n    setPlayers,\n    addChatMessageFromSocket,\n    addCorrectGuessMessage,\n    setGuessInput,\n    sendGuess,\n    sendChatMessage,\n    startGame,\n    setReady,\n    skipTurn,\n    resetGameState,\n    hideRoundEndPopup,\n    hideGameEndPopup,\n    handleSocketConnected,\n    handleAuthenticated,\n    handleRoomJoined,\n    handlePlayerJoined,\n    handlePlayerLeft,\n    handleGameStarted,\n    handleRoundStarted,\n    handleWordAssigned,\n    handleCorrectGuess,\n    handleAllGuessed,\n    handleRoundEnded,\n    handleGameEnded,\n    handleTimeUpdate,\n    handleCanvasCleared,\n    handleRoomDeleted,\n    handlePlayersUpdate,\n    handleDrawData,\n    handleGameState,\n  } = useGameStore();\n\n  const [isReady, setIsReady] = useState(false);\n\n  // Socket event handlers\n  const handleSocketConnectedEvent = useCallback((data) => {\n    handleSocketConnected(data);\n  }, [handleSocketConnected]);\n\n  const handleAuthenticatedEvent = useCallback((data) => {\n    handleAuthenticated(data);\n    // Join room after successful authentication\n    console.log('Authentication successful, joining room...');\n    joinRoom(parseInt(roomId));\n  }, [handleAuthenticated, joinRoom, roomId]);\n\n  const handleRoomJoinedEvent = useCallback((data) => {\n    handleRoomJoined(data);\n    toast.success('Joined room successfully!');\n  }, [handleRoomJoined]);\n\n  const handlePlayerJoinedEvent = useCallback((data) => {\n    handlePlayerJoined(data);\n    toast(`${data.username} joined the room`, {\n      icon: 'ðŸ‘¤',\n    });\n  }, [handlePlayerJoined]);\n\n  const handlePlayerLeftEvent = useCallback((data) => {\n    handlePlayerLeft(data);\n    toast(`${data.username} left the room`, {\n      icon: 'ðŸ‘¤',\n    });\n  }, [handlePlayerLeft]);\n\n  const handleGameStartedEvent = useCallback((data) => {\n    handleGameStarted(data);\n    toast.success('Game started!');\n  }, [handleGameStarted]);\n\n  const handleRoundStartedEvent = useCallback((data) => {\n    handleRoundStarted(data);\n    toast.success(`Round ${data.round} started!`);\n  }, [handleRoundStarted]);\n\n  const handleWordAssignedEvent = useCallback((data) => {\n    handleWordAssigned(data);\n    if (data.word && data.word !== '_' * data.word.length) {\n      toast.success(`Your word: ${data.word}`);\n    }\n  }, [handleWordAssigned]);\n\n  const handleCorrectGuessEvent = useCallback((data) => {\n    handleCorrectGuess(data);\n    toast.success(`${data.username} guessed correctly!`);\n  }, [handleCorrectGuess]);\n\n  const handleAllGuessedEvent = useCallback((data) => {\n    handleAllGuessed(data);\n    toast.success('Everyone guessed correctly! Round ending...');\n  }, [handleAllGuessed]);\n\n  const handleRoundEndedEvent = useCallback((data) => {\n    handleRoundEnded(data);\n    toast(`Round ${data.round} ended! Word was: ${data.word}`, {\n      icon: 'â¹ï¸',\n    });\n  }, [handleRoundEnded]);\n\n  const handleGameEndedEvent = useCallback((data) => {\n    handleGameEnded(data);\n    toast.success('Game ended!');\n  }, [handleGameEnded]);\n\n  const handleTimeUpdateEvent = useCallback((data) => {\n    handleTimeUpdate(data);\n  }, [handleTimeUpdate]);\n\n  const handleCanvasClearedEvent = useCallback((data) => {\n    handleCanvasCleared(data);\n    toast('Canvas cleared', {\n      icon: 'ðŸ§¹',\n    });\n  }, [handleCanvasCleared]);\n\n  const handleRoomDeletedEvent = useCallback((data) => {\n    handleRoomDeleted(data);\n    toast.error('Room has been deleted');\n    navigate('/dashboard');\n  }, [handleRoomDeleted, navigate]);\n\n  const handlePlayersUpdateEvent = useCallback((data) => {\n    handlePlayersUpdate(data);\n  }, [handlePlayersUpdate]);\n\n  const handleChatMessageEvent = useCallback((data) => {\n    addChatMessageFromSocket(data);\n  }, [addChatMessageFromSocket]);\n\n  const handleDrawDataEvent = useCallback((data) => {\n    // Add incoming drawing data to the store\n    handleDrawData(data);\n    console.log('Draw data received:', data);\n  }, [handleDrawData]);\n\n  const handleGameStateEvent = useCallback((data) => {\n    // Handle game state updates\n    handleGameState(data);\n    console.log('Game state update:', data);\n  }, [handleGameState]);\n\n  // Game controls\n  const handleStartGame = () => {\n    startGame();\n  };\n\n  const handleReadyToggle = () => {\n    const newReadyState = !isReady;\n    setIsReady(newReadyState);\n    setReady(newReadyState);\n  };\n\n  const handleSkipTurn = () => {\n    skipTurn();\n  };\n\n  const handleLeaveRoom = () => {\n    leaveRoom();\n    navigate('/dashboard');\n  };\n\n  const handleDeleteRoom = () => {\n    if (window.confirm('Are you sure you want to delete this room? All players will be disconnected.')) {\n      deleteRoom();\n      navigate('/dashboard');\n    }\n  };\n\n  const handleSendMessage = (message) => {\n    sendChatMessage(message);\n  };\n\n  const handleSendGuess = () => {\n    sendGuess();\n  };\n\n  const handleGoToDashboard = () => {\n    hideRoundEndPopup();\n    navigate('/dashboard');\n  };\n\n  const handleGoToDashboardFromGameEnd = () => {\n    hideGameEndPopup();\n    navigate('/dashboard');\n  };\n\n  // Check if current user is the drawer\n  const isCurrentDrawer = isDrawing;\n\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n\n    console.log('GameRoom: Setting up socket connection...');\n\n    // Connect to socket\n    socketManager.connect(token);\n\n    // Register all event listeners\n    socketManager.on('socket_connected', handleSocketConnectedEvent);\n    socketManager.on('authenticated', handleAuthenticatedEvent);\n    socketManager.on('room_joined', handleRoomJoinedEvent);\n    socketManager.on('player_joined', handlePlayerJoinedEvent);\n    socketManager.on('player_left', handlePlayerLeftEvent);\n    socketManager.on('chat_message', handleChatMessageEvent);\n    socketManager.on('game_started', handleGameStartedEvent);\n    socketManager.on('round_started', handleRoundStartedEvent);\n    socketManager.on('correct_guess', handleCorrectGuessEvent);\n    socketManager.on('all_guessed', handleAllGuessedEvent);\n    socketManager.on('round_ended', handleRoundEndedEvent);\n    socketManager.on('game_ended', handleGameEndedEvent);\n    socketManager.on('time_update', handleTimeUpdateEvent);\n    socketManager.on('word_assigned', handleWordAssignedEvent);\n    socketManager.on('game_state', handleGameStateEvent);\n    socketManager.on('canvas_cleared', handleCanvasClearedEvent);\n    socketManager.on('draw_data', handleDrawDataEvent);\n    socketManager.on('room_deleted', handleRoomDeletedEvent);\n    socketManager.on('players_update', handlePlayersUpdateEvent);\n\n    // Initial fetch of players\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n\n    // Cleanup on unmount\n    return () => {\n      socketManager.off('socket_connected', handleSocketConnectedEvent);\n      socketManager.off('authenticated', handleAuthenticatedEvent);\n      socketManager.off('room_joined', handleRoomJoinedEvent);\n      socketManager.off('player_joined', handlePlayerJoinedEvent);\n      socketManager.off('player_left', handlePlayerLeftEvent);\n      socketManager.off('chat_message', handleChatMessageEvent);\n      socketManager.off('game_started', handleGameStartedEvent);\n      socketManager.off('round_started', handleRoundStartedEvent);\n      socketManager.off('correct_guess', handleCorrectGuessEvent);\n      socketManager.off('all_guessed', handleAllGuessedEvent);\n      socketManager.off('round_ended', handleRoundEndedEvent);\n      socketManager.off('game_ended', handleGameEndedEvent);\n      socketManager.off('time_update', handleTimeUpdateEvent);\n      socketManager.off('word_assigned', handleWordAssignedEvent);\n      socketManager.off('game_state', handleGameStateEvent);\n      socketManager.off('canvas_cleared', handleCanvasClearedEvent);\n      socketManager.off('draw_data', handleDrawDataEvent);\n      socketManager.off('room_deleted', handleRoomDeletedEvent);\n      socketManager.off('players_update', handlePlayersUpdateEvent);\n    };\n  }, [\n    token,\n    roomId,\n    navigate,\n    joinRoom,\n    setPlayers,\n    handleSocketConnectedEvent,\n    handleAuthenticatedEvent,\n    handleRoomJoinedEvent,\n    handlePlayerJoinedEvent,\n    handlePlayerLeftEvent,\n    handleChatMessageEvent,\n    handleGameStartedEvent,\n    handleRoundStartedEvent,\n    handleCorrectGuessEvent,\n    handleAllGuessedEvent,\n    handleRoundEndedEvent,\n    handleGameEndedEvent,\n    handleTimeUpdateEvent,\n    handleWordAssignedEvent,\n    handleGameStateEvent,\n    handleCanvasClearedEvent,\n    handleDrawDataEvent,\n    handleRoomDeletedEvent,\n    handlePlayersUpdateEvent,\n  ]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center\">\n        <motion.div\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"text-center\"\n        >\n          <div className=\"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n            <div className=\"loading-spinner w-8 h-8\"></div>\n          </div>\n          <h2 className=\"text-xl font-semibold text-slate-900\">Loading room...</h2>\n          <p className=\"text-slate-600 mt-2\">Connecting to your drawing space</p>\n        </motion.div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center\">\n        <motion.div\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"text-center\"\n        >\n          <div className=\"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n            <span className=\"text-white text-2xl\">âš ï¸</span>\n          </div>\n          <h2 className=\"text-xl font-semibold text-slate-900\">Connection Error</h2>\n          <p className=\"text-slate-600 mt-2\">{error}</p>\n          <Button onClick={() => navigate('/dashboard')} className=\"mt-4\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to Dashboard\n          </Button>\n        </motion.div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\">\n      <div className=\"game-layout\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"lg:col-span-4 card p-6 mb-6\"\n        >\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-6\">\n              <Button\n                variant=\"ghost\"\n                onClick={() => navigate('/dashboard')}\n                className=\"flex items-center space-x-2\"\n              >\n                <ArrowLeft className=\"w-4 h-4\" />\n                <span>Back</span>\n              </Button>\n              \n              <div>\n                <h1 className=\"text-2xl font-bold gradient-text\">Room #{roomId}</h1>\n                <div className=\"flex items-center space-x-6 text-sm text-slate-600 mt-1\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Users className=\"w-4 h-4\" />\n                    <span>{players.length} players</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Palette className=\"w-4 h-4\" />\n                    <span>Round {currentRound}/{totalRounds}</span>\n                  </div>\n                  {isGameActive && (\n                    <div className=\"flex items-center space-x-2\">\n                      <Clock className=\"w-4 h-4\" />\n                      <span className=\"font-semibold text-slate-800\">{timeRemaining}s</span>\n                    </div>\n                  )}\n                  <div className=\"flex items-center space-x-2\">\n                    {isSocketConnected ? (\n                      <>\n                        <Wifi className=\"w-4 h-4 text-emerald-500\" />\n                        <span className=\"text-emerald-600 font-medium\">Connected</span>\n                      </>\n                    ) : (\n                      <>\n                        <WifiOff className=\"w-4 h-4 text-red-500\" />\n                        <span className=\"text-red-600 font-medium\">Disconnected</span>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex space-x-3\">\n              {!isGameActive && (\n                <>\n                  <Button\n                    onClick={handleReadyToggle}\n                    variant={isReady ? 'success' : 'secondary'}\n                    className=\"flex items-center space-x-2\"\n                  >\n                    {isReady ? <CheckCircle className=\"w-4 h-4\" /> : <Circle className=\"w-4 h-4\" />}\n                    <span>{isReady ? 'Ready' : 'Not Ready'}</span>\n                  </Button>\n                  <Button \n                    onClick={handleStartGame} \n                    className=\"flex items-center space-x-2\"\n                  >\n                    <Play className=\"w-4 h-4\" />\n                    <span>Start Game</span>\n                  </Button>\n                </>\n              )}\n              {isGameActive && isCurrentDrawer && (\n                <Button \n                  onClick={handleSkipTurn} \n                  variant=\"warning\"\n                  className=\"flex items-center space-x-2\"\n                >\n                  <SkipForward className=\"w-4 h-4\" />\n                  <span>Skip Turn</span>\n                </Button>\n              )}\n              <Button \n                onClick={handleLeaveRoom} \n                variant=\"secondary\"\n                className=\"flex items-center space-x-2\"\n              >\n                <ArrowLeft className=\"w-4 h-4\" />\n                <span>Leave</span>\n              </Button>\n              <Button \n                onClick={handleDeleteRoom} \n                variant=\"danger\"\n                className=\"flex items-center space-x-2\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n                <span>Delete</span>\n              </Button>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Players Panel */}\n        <motion.div\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.2 }}\n          className=\"game-sidebar\"\n        >\n          <div className=\"card p-6\">\n            <h2 className=\"text-xl font-bold text-slate-900 mb-4 flex items-center space-x-2\">\n              <Users className=\"w-5 h-5\" />\n              <span>Players</span>\n            </h2>\n            <div className=\"space-y-3\">\n              {players.map((player, index) => (\n                <motion.div\n                  key={`${player.id}-${index}`}\n                  initial={{ opacity: 0, x: -10 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"player-item\"\n                >\n                  <div className=\"player-avatar\">\n                    {player.username.charAt(0).toUpperCase()}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"font-semibold text-slate-900 truncate\">\n                        {player.username}\n                      </span>\n                      {player.ready && (\n                        <CheckCircle className=\"w-4 h-4 text-emerald-500\" />\n                      )}\n                      {isGameActive && isCurrentDrawer && player.id === user?.id && (\n                        <Palette className=\"w-4 h-4 text-blue-500 animate-pulse\" />\n                      )}\n                    </div>\n                    <div className=\"flex items-center space-x-2 mt-1\">\n                      <Crown className=\"w-3 h-3 text-amber-500\" />\n                      <span className=\"text-sm font-semibold text-slate-700\">\n                        {player.score || 0} pts\n                      </span>\n                    </div>\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Game Area */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.3 }}\n          className=\"game-main\"\n        >\n          <div className=\"card p-6 h-full\">\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-bold text-slate-900 mb-2 flex items-center space-x-2\">\n                <Palette className=\"w-5 h-5\" />\n                <span>Drawing Canvas</span>\n              </h2>\n              {isGameActive && isCurrentDrawer && (\n                <div className=\"glass-card p-4 mb-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"text-sm font-semibold text-slate-700\">Your word to draw:</span>\n                    <span className=\"text-lg font-bold gradient-text\">{currentWord}</span>\n                  </div>\n                </div>\n              )}\n            </div>\n            <div className=\"canvas-container\">\n              <DrawingCanvas width={800} height={600} />\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Chat Panel */}\n        <motion.div\n          initial={{ opacity: 0, x: 20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.4 }}\n          className=\"game-sidebar\"\n        >\n          <ChatBox\n            messages={chatMessages}\n            onSendMessage={handleSendMessage}\n            guessInput={guessInput}\n            onGuessInputChange={setGuessInput}\n            onSendGuess={handleSendGuess}\n            isGameActive={isGameActive}\n          />\n        </motion.div>\n      </div>\n\n      {/* Round End Popup */}\n      <RoundEndPopup\n        isOpen={showRoundEndPopup}\n        onClose={hideRoundEndPopup}\n        roundNumber={roundEndData?.roundNumber || 0}\n        word={roundEndData?.word || ''}\n        players={roundEndData?.players || []}\n        onGoToDashboard={handleGoToDashboard}\n      />\n\n      {/* Game End Popup */}\n      <GameEndPopup\n        isOpen={showGameEndPopup}\n        onClose={hideGameEndPopup}\n        finalScores={gameEndData?.finalScores || {}}\n        players={gameEndData?.players || []}\n        onGoToDashboard={handleGoToDashboardFromGameEnd}\n      />\n    </div>\n  );\n};\n\nexport default GameRoom; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}