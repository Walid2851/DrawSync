{"ast":null,"code":"var _jsxFileName = \"/Users/walid/Documents/Networking/drawsync/frontend/src/pages/GameRoom.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { ArrowLeft, Play, Settings, Palette, RotateCcw, Users, MessageCircle, Timer, Target, SkipForward, Volume2, VolumeX } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport toast from 'react-hot-toast';\nimport useAuthStore from '../store/authStore';\nimport useGameStore from '../store/gameStore';\nimport socketManager from '../utils/socket';\nimport DrawingCanvas from '../components/DrawingCanvas';\nimport ChatBox from '../components/ChatBox';\nimport PlayerList from '../components/PlayerList';\nimport Button from '../components/Button';\nimport { roomsAPI } from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameRoom = () => {\n  _s();\n  const {\n    roomId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    token\n  } = useAuthStore();\n  const {\n    currentRoom,\n    players,\n    isGameActive,\n    gameState,\n    currentRound,\n    totalRounds,\n    timeRemaining,\n    currentWord,\n    brushColor,\n    brushSize,\n    setBrushColor,\n    setBrushSize,\n    setReady,\n    setSocketConnected,\n    leaveRoom,\n    clearDrawing,\n    updateTimeRemaining,\n    handleGameStarted,\n    handleRoundStarted,\n    handleCorrectGuess,\n    handleRoundEnded,\n    handleGameEnded\n  } = useGameStore();\n\n  // UI state\n  const [showSettings, setShowSettings] = useState(false);\n  const [showPlayerList, setShowPlayerList] = useState(false);\n  const [showChat, setShowChat] = useState(true);\n  const [isReady, setIsReady] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const timeIntervalRef = useRef(null);\n\n  // Define event handlers using useCallback to avoid dependency issues\n  const handleSocketConnected = useCallback(data => {\n    console.log('Socket connection state changed:', data);\n    setSocketConnected(data.connected);\n\n    // If connected and authenticated, join the room\n    if (data.connected) {\n      console.log('Socket connected, joining room:', roomId);\n      socketManager.joinRoom(roomId);\n    }\n  }, [roomId, setSocketConnected]);\n  const handleAuthenticated = useCallback(data => {\n    console.log('Authentication successful, joining room:', roomId);\n    socketManager.joinRoom(roomId);\n  }, [roomId]);\n  const handleRoomJoined = useCallback(data => {\n    console.log('Room joined successfully:', data);\n    toast.success('Joined room successfully!');\n    // Fetch players after joining room\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          useGameStore.getState().setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n  }, [roomId]);\n  const handlePlayerJoined = useCallback(data => {\n    toast.success(`${data.username} joined the room`);\n    // Fetch updated player list\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          useGameStore.getState().setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n  }, [roomId]);\n  const handlePlayerLeft = useCallback(data => {\n    toast.info(`${data.username} left the room`);\n    // Fetch updated player list\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          useGameStore.getState().setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n  }, [roomId]);\n  const handleChatMessage = useCallback(data => {\n    console.log('Received chat_message event:', data);\n    useGameStore.getState().addChatMessageFromSocket(data);\n  }, []);\n  const handleGameStartedEvent = useCallback(data => {\n    console.log('Game started event received:', data);\n    toast.success('Game started!');\n    handleGameStarted(data);\n  }, [handleGameStarted]);\n  const handleRoundStartedEvent = useCallback(data => {\n    console.log('Round started event received:', data);\n    toast.success(`Round ${data.round} started!`);\n    handleRoundStarted(data);\n  }, [handleRoundStarted]);\n  const handleCorrectGuessEvent = useCallback(data => {\n    console.log('Correct guess event received:', data);\n    toast.success(`${data.username} guessed correctly!`);\n    handleCorrectGuess(data);\n  }, [handleCorrectGuess]);\n  const handleRoundEndedEvent = useCallback(data => {\n    console.log('Round ended event received:', data);\n    toast.info('Round ended!');\n    handleRoundEnded(data);\n  }, [handleRoundEnded]);\n  const handleGameEndedEvent = useCallback(data => {\n    console.log('Game ended event received:', data);\n    toast.success('Game ended!');\n    handleGameEnded(data);\n  }, [handleGameEnded]);\n  const handleTimeUpdate = useCallback(data => {\n    updateTimeRemaining(data.time_remaining);\n  }, [updateTimeRemaining]);\n  const handleDrawerChanged = useCallback(data => {\n    toast.info(`${data.username} is now drawing`);\n  }, []);\n  const handleWordAssigned = useCallback(data => {\n    if (data.user_id === (user === null || user === void 0 ? void 0 : user.id)) {\n      toast.success(`Your word: ${data.word}`);\n    }\n  }, [user === null || user === void 0 ? void 0 : user.id]);\n  const handleGameStateUpdate = useCallback(data => {\n    console.log('Game state update received:', data);\n    // Update the game state in the store\n    useGameStore.getState().setGameState(data);\n  }, []);\n  const handleCanvasCleared = useCallback(data => {\n    console.log('Canvas cleared event received:', data);\n    // Clear the drawing data in the store\n    useGameStore.getState().clearDrawing();\n  }, []);\n  const colors = ['#000000', '#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF', '#FFA500', '#800080', '#008000'];\n  const brushSizes = [2, 4, 6, 8, 12, 16];\n\n  // Check if current user is the drawer\n  const isCurrentDrawer = (gameState === null || gameState === void 0 ? void 0 : gameState.current_drawer_id) === (user === null || user === void 0 ? void 0 : user.id);\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    console.log('GameRoom: Setting up socket connection...');\n\n    // Connect to socket\n    socketManager.connect(token);\n\n    // Initial fetch of players\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          useGameStore.getState().setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n\n    // Register all event listeners\n    socketManager.on('socket_connected', handleSocketConnected);\n    socketManager.on('authenticated', handleAuthenticated);\n    socketManager.on('room_joined', handleRoomJoined);\n    socketManager.on('player_joined', handlePlayerJoined);\n    socketManager.on('player_left', handlePlayerLeft);\n    socketManager.on('chat_message', handleChatMessage);\n    socketManager.on('game_started', handleGameStartedEvent);\n    socketManager.on('round_started', handleRoundStartedEvent);\n    socketManager.on('correct_guess', handleCorrectGuessEvent);\n    socketManager.on('round_ended', handleRoundEndedEvent);\n    socketManager.on('game_ended', handleGameEndedEvent);\n    socketManager.on('time_update', handleTimeUpdate);\n    socketManager.on('drawer_changed', handleDrawerChanged);\n    socketManager.on('word_assigned', handleWordAssigned);\n    socketManager.on('game_state', handleGameStateUpdate);\n    socketManager.on('canvas_cleared', handleCanvasCleared);\n\n    // Initial fetch of players\n    fetchPlayers();\n    return () => {\n      // Clean up event listeners\n      socketManager.off('socket_connected', handleSocketConnected);\n      socketManager.off('authenticated', handleAuthenticated);\n      socketManager.off('room_joined', handleRoomJoined);\n      socketManager.off('player_joined', handlePlayerJoined);\n      socketManager.off('player_left', handlePlayerLeft);\n      socketManager.off('chat_message', handleChatMessage);\n      socketManager.off('game_started', handleGameStartedEvent);\n      socketManager.off('round_started', handleRoundStartedEvent);\n      socketManager.off('correct_guess', handleCorrectGuessEvent);\n      socketManager.off('round_ended', handleRoundEndedEvent);\n      socketManager.off('game_ended', handleGameEndedEvent);\n      socketManager.off('time_update', handleTimeUpdate);\n      socketManager.off('drawer_changed', handleDrawerChanged);\n      socketManager.off('word_assigned', handleWordAssigned);\n      socketManager.off('game_state', handleGameStateUpdate);\n      socketManager.off('canvas_cleared', handleCanvasCleared);\n    };\n  }, [token, navigate, roomId, handleSocketConnected, handleAuthenticated, handleRoomJoined, handlePlayerJoined, handlePlayerLeft, handleChatMessage, handleGameStartedEvent, handleRoundStartedEvent, handleCorrectGuessEvent, handleRoundEndedEvent, handleGameEndedEvent, handleTimeUpdate, handleDrawerChanged, handleWordAssigned, handleGameStateUpdate, handleCanvasCleared]);\n  const handleLeaveRoom = () => {\n    leaveRoom();\n    socketManager.disconnect();\n    navigate('/dashboard');\n  };\n  const handleStartGame = async () => {\n    try {\n      socketManager.startGame(roomId);\n    } catch (error) {\n      toast.error('Failed to start game');\n    }\n  };\n  const handleSkipTurn = () => {\n    if (isCurrentDrawer) {\n      socketManager.skipTurn();\n    }\n  };\n  const handleClearCanvas = () => {\n    if (isCurrentDrawer) {\n      clearDrawing();\n      socketManager.clearCanvas();\n    }\n  };\n  const handleReadyToggle = () => {\n    setIsReady(!isReady);\n    setReady(!isReady);\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            onClick: handleLeaveRoom,\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Leave Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Target, {\n              className: \"w-5 h-5 text-primary-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: [\"Room: \", (currentRoom === null || currentRoom === void 0 ? void 0 : currentRoom.name) || roomId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [isGameActive && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4 bg-white px-4 py-2 rounded-lg shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Target, {\n                className: \"w-4 h-4 text-primary-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: [\"Round \", currentRound, \"/\", totalRounds]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Timer, {\n                className: \"w-4 h-4 text-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-red-600\",\n                children: formatTime(timeRemaining)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              size: \"sm\",\n              onClick: () => setShowPlayerList(!showPlayerList),\n              className: \"flex items-center space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Players\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              size: \"sm\",\n              onClick: () => setShowChat(!showChat),\n              className: \"flex items-center space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Chat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              size: \"sm\",\n              onClick: () => setIsMuted(!isMuted),\n              className: \"flex items-center space-x-1\",\n              children: isMuted ? /*#__PURE__*/_jsxDEV(VolumeX, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Volume2, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-4 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: \"Drawing Canvas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), isGameActive && isCurrentDrawer && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  onClick: handleClearCanvas,\n                  className: \"flex items-center space-x-1\",\n                  children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Clear\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  onClick: handleSkipTurn,\n                  className: \"flex items-center space-x-1\",\n                  children: [/*#__PURE__*/_jsxDEV(SkipForward, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Skip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DrawingCanvas, {\n              width: 800,\n              height: 600\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 space-y-6\",\n          children: [!isGameActive && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 mb-4\",\n              children: \"Game Controls\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleStartGame,\n                className: \"w-full\",\n                disabled: players.length < 3,\n                children: [/*#__PURE__*/_jsxDEV(Play, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this), \"Start Game\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: isReady ? \"default\" : \"outline\",\n                onClick: handleReadyToggle,\n                className: \"w-full\",\n                children: isReady ? \"Ready\" : \"Not Ready\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), players.length < 3 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-2\",\n              children: \"Need at least 3 players to start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), showPlayerList && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-lg p-6\",\n            children: /*#__PURE__*/_jsxDEV(PlayerList, {\n              players: players\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this), showChat && /*#__PURE__*/_jsxDEV(ChatBox, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 5\n  }, this);\n};\n_s(GameRoom, \"1eZ8mCbB6oSTdWsednAHN6waa9I=\", false, function () {\n  return [useParams, useNavigate, useAuthStore, useGameStore];\n});\n_c = GameRoom;\nexport default GameRoom;\nvar _c;\n$RefreshReg$(_c, \"GameRoom\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","ArrowLeft","Play","Settings","Palette","RotateCcw","Users","MessageCircle","Timer","Target","SkipForward","Volume2","VolumeX","motion","toast","useAuthStore","useGameStore","socketManager","DrawingCanvas","ChatBox","PlayerList","Button","roomsAPI","jsxDEV","_jsxDEV","GameRoom","_s","roomId","navigate","user","token","currentRoom","players","isGameActive","gameState","currentRound","totalRounds","timeRemaining","currentWord","brushColor","brushSize","setBrushColor","setBrushSize","setReady","setSocketConnected","leaveRoom","clearDrawing","updateTimeRemaining","handleGameStarted","handleRoundStarted","handleCorrectGuess","handleRoundEnded","handleGameEnded","showSettings","setShowSettings","showPlayerList","setShowPlayerList","showChat","setShowChat","isReady","setIsReady","isMuted","setIsMuted","timeIntervalRef","handleSocketConnected","useCallback","data","console","log","connected","joinRoom","handleAuthenticated","handleRoomJoined","success","fetchPlayers","response","getRoomPlayers","getState","setPlayers","err","error","handlePlayerJoined","username","handlePlayerLeft","info","handleChatMessage","addChatMessageFromSocket","handleGameStartedEvent","handleRoundStartedEvent","round","handleCorrectGuessEvent","handleRoundEndedEvent","handleGameEndedEvent","handleTimeUpdate","time_remaining","handleDrawerChanged","handleWordAssigned","user_id","id","word","handleGameStateUpdate","setGameState","handleCanvasCleared","colors","brushSizes","isCurrentDrawer","current_drawer_id","connect","on","off","handleLeaveRoom","disconnect","handleStartGame","startGame","handleSkipTurn","skipTurn","handleClearCanvas","clearCanvas","handleReadyToggle","formatTime","seconds","mins","Math","floor","secs","toString","padStart","className","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","size","width","height","disabled","length","_c","$RefreshReg$"],"sources":["/Users/walid/Documents/Networking/drawsync/frontend/src/pages/GameRoom.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { \n  ArrowLeft, \n  Play, \n  Settings, \n  Palette,\n  RotateCcw,\n  Users,\n  MessageCircle,\n  Timer,\n  Target,\n  SkipForward,\n  Volume2,\n  VolumeX\n} from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport toast from 'react-hot-toast';\nimport useAuthStore from '../store/authStore';\nimport useGameStore from '../store/gameStore';\nimport socketManager from '../utils/socket';\nimport DrawingCanvas from '../components/DrawingCanvas';\nimport ChatBox from '../components/ChatBox';\nimport PlayerList from '../components/PlayerList';\nimport Button from '../components/Button';\nimport { roomsAPI } from '../utils/api';\n\nconst GameRoom = () => {\n  const { roomId } = useParams();\n  const navigate = useNavigate();\n  const { user, token } = useAuthStore();\n  const {\n    currentRoom,\n    players,\n    isGameActive,\n    gameState,\n    currentRound,\n    totalRounds,\n    timeRemaining,\n    currentWord,\n    brushColor,\n    brushSize,\n    setBrushColor,\n    setBrushSize,\n    setReady,\n    setSocketConnected,\n    leaveRoom,\n    clearDrawing,\n    updateTimeRemaining,\n    handleGameStarted,\n    handleRoundStarted,\n    handleCorrectGuess,\n    handleRoundEnded,\n    handleGameEnded,\n  } = useGameStore();\n\n  // UI state\n  const [showSettings, setShowSettings] = useState(false);\n  const [showPlayerList, setShowPlayerList] = useState(false);\n  const [showChat, setShowChat] = useState(true);\n  const [isReady, setIsReady] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const timeIntervalRef = useRef(null);\n\n  // Define event handlers using useCallback to avoid dependency issues\n  const handleSocketConnected = useCallback((data) => {\n    console.log('Socket connection state changed:', data);\n    setSocketConnected(data.connected);\n    \n    // If connected and authenticated, join the room\n    if (data.connected) {\n      console.log('Socket connected, joining room:', roomId);\n      socketManager.joinRoom(roomId);\n    }\n  }, [roomId, setSocketConnected]);\n\n  const handleAuthenticated = useCallback((data) => {\n    console.log('Authentication successful, joining room:', roomId);\n    socketManager.joinRoom(roomId);\n  }, [roomId]);\n\n  const handleRoomJoined = useCallback((data) => {\n    console.log('Room joined successfully:', data);\n    toast.success('Joined room successfully!');\n    // Fetch players after joining room\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          useGameStore.getState().setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n  }, [roomId]);\n\n  const handlePlayerJoined = useCallback((data) => {\n    toast.success(`${data.username} joined the room`);\n    // Fetch updated player list\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          useGameStore.getState().setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n  }, [roomId]);\n\n  const handlePlayerLeft = useCallback((data) => {\n    toast.info(`${data.username} left the room`);\n    // Fetch updated player list\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          useGameStore.getState().setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n  }, [roomId]);\n\n  const handleChatMessage = useCallback((data) => {\n    console.log('Received chat_message event:', data);\n    useGameStore.getState().addChatMessageFromSocket(data);\n  }, []);\n\n  const handleGameStartedEvent = useCallback((data) => {\n    console.log('Game started event received:', data);\n    toast.success('Game started!');\n    handleGameStarted(data);\n  }, [handleGameStarted]);\n\n  const handleRoundStartedEvent = useCallback((data) => {\n    console.log('Round started event received:', data);\n    toast.success(`Round ${data.round} started!`);\n    handleRoundStarted(data);\n  }, [handleRoundStarted]);\n\n  const handleCorrectGuessEvent = useCallback((data) => {\n    console.log('Correct guess event received:', data);\n    toast.success(`${data.username} guessed correctly!`);\n    handleCorrectGuess(data);\n  }, [handleCorrectGuess]);\n\n  const handleRoundEndedEvent = useCallback((data) => {\n    console.log('Round ended event received:', data);\n    toast.info('Round ended!');\n    handleRoundEnded(data);\n  }, [handleRoundEnded]);\n\n  const handleGameEndedEvent = useCallback((data) => {\n    console.log('Game ended event received:', data);\n    toast.success('Game ended!');\n    handleGameEnded(data);\n  }, [handleGameEnded]);\n\n  const handleTimeUpdate = useCallback((data) => {\n    updateTimeRemaining(data.time_remaining);\n  }, [updateTimeRemaining]);\n\n  const handleDrawerChanged = useCallback((data) => {\n    toast.info(`${data.username} is now drawing`);\n  }, []);\n\n  const handleWordAssigned = useCallback((data) => {\n    if (data.user_id === user?.id) {\n      toast.success(`Your word: ${data.word}`);\n    }\n  }, [user?.id]);\n\n  const handleGameStateUpdate = useCallback((data) => {\n    console.log('Game state update received:', data);\n    // Update the game state in the store\n    useGameStore.getState().setGameState(data);\n  }, []);\n\n  const handleCanvasCleared = useCallback((data) => {\n    console.log('Canvas cleared event received:', data);\n    // Clear the drawing data in the store\n    useGameStore.getState().clearDrawing();\n  }, []);\n\n  const colors = [\n    '#000000', '#FF0000', '#00FF00', '#0000FF', '#FFFF00',\n    '#FF00FF', '#00FFFF', '#FFA500', '#800080', '#008000'\n  ];\n\n  const brushSizes = [2, 4, 6, 8, 12, 16];\n\n  // Check if current user is the drawer\n  const isCurrentDrawer = gameState?.current_drawer_id === user?.id;\n\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n\n    console.log('GameRoom: Setting up socket connection...');\n\n    // Connect to socket\n    socketManager.connect(token);\n\n    // Initial fetch of players\n    const fetchPlayers = async () => {\n      try {\n        const response = await roomsAPI.getRoomPlayers(roomId);\n        if (response.data && response.data.players) {\n          useGameStore.getState().setPlayers(response.data.players);\n        }\n      } catch (err) {\n        console.error('Failed to fetch players:', err);\n      }\n    };\n    fetchPlayers();\n\n    // Register all event listeners\n    socketManager.on('socket_connected', handleSocketConnected);\n    socketManager.on('authenticated', handleAuthenticated);\n    socketManager.on('room_joined', handleRoomJoined);\n    socketManager.on('player_joined', handlePlayerJoined);\n    socketManager.on('player_left', handlePlayerLeft);\n    socketManager.on('chat_message', handleChatMessage);\n    socketManager.on('game_started', handleGameStartedEvent);\n    socketManager.on('round_started', handleRoundStartedEvent);\n    socketManager.on('correct_guess', handleCorrectGuessEvent);\n    socketManager.on('round_ended', handleRoundEndedEvent);\n    socketManager.on('game_ended', handleGameEndedEvent);\n    socketManager.on('time_update', handleTimeUpdate);\n    socketManager.on('drawer_changed', handleDrawerChanged);\n    socketManager.on('word_assigned', handleWordAssigned);\n    socketManager.on('game_state', handleGameStateUpdate);\n    socketManager.on('canvas_cleared', handleCanvasCleared);\n\n    // Initial fetch of players\n    fetchPlayers();\n\n    return () => {\n      // Clean up event listeners\n      socketManager.off('socket_connected', handleSocketConnected);\n      socketManager.off('authenticated', handleAuthenticated);\n      socketManager.off('room_joined', handleRoomJoined);\n      socketManager.off('player_joined', handlePlayerJoined);\n      socketManager.off('player_left', handlePlayerLeft);\n      socketManager.off('chat_message', handleChatMessage);\n      socketManager.off('game_started', handleGameStartedEvent);\n      socketManager.off('round_started', handleRoundStartedEvent);\n      socketManager.off('correct_guess', handleCorrectGuessEvent);\n      socketManager.off('round_ended', handleRoundEndedEvent);\n      socketManager.off('game_ended', handleGameEndedEvent);\n      socketManager.off('time_update', handleTimeUpdate);\n      socketManager.off('drawer_changed', handleDrawerChanged);\n      socketManager.off('word_assigned', handleWordAssigned);\n      socketManager.off('game_state', handleGameStateUpdate);\n      socketManager.off('canvas_cleared', handleCanvasCleared);\n    };\n  }, [\n    token,\n    navigate,\n    roomId,\n    handleSocketConnected,\n    handleAuthenticated,\n    handleRoomJoined,\n    handlePlayerJoined,\n    handlePlayerLeft,\n    handleChatMessage,\n    handleGameStartedEvent,\n    handleRoundStartedEvent,\n    handleCorrectGuessEvent,\n    handleRoundEndedEvent,\n    handleGameEndedEvent,\n    handleTimeUpdate,\n    handleDrawerChanged,\n    handleWordAssigned,\n    handleGameStateUpdate,\n    handleCanvasCleared\n  ]);\n\n  const handleLeaveRoom = () => {\n    leaveRoom();\n    socketManager.disconnect();\n    navigate('/dashboard');\n  };\n\n  const handleStartGame = async () => {\n    try {\n      socketManager.startGame(roomId);\n    } catch (error) {\n      toast.error('Failed to start game');\n    }\n  };\n\n  const handleSkipTurn = () => {\n    if (isCurrentDrawer) {\n      socketManager.skipTurn();\n    }\n  };\n\n  const handleClearCanvas = () => {\n    if (isCurrentDrawer) {\n      clearDrawing();\n      socketManager.clearCanvas();\n    }\n  };\n\n  const handleReadyToggle = () => {\n    setIsReady(!isReady);\n    setReady(!isReady);\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4\">\n      {/* Header */}\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-4\">\n            <Button\n              variant=\"ghost\"\n              onClick={handleLeaveRoom}\n              className=\"flex items-center space-x-2\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n              <span>Leave Room</span>\n            </Button>\n            \n            <div className=\"flex items-center space-x-2\">\n              <Target className=\"w-5 h-5 text-primary-600\" />\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Room: {currentRoom?.name || roomId}\n              </h1>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            {/* Game Status */}\n            {isGameActive && (\n              <div className=\"flex items-center space-x-4 bg-white px-4 py-2 rounded-lg shadow-sm\">\n                <div className=\"flex items-center space-x-2\">\n                  <Target className=\"w-4 h-4 text-primary-600\" />\n                  <span className=\"text-sm font-medium\">\n                    Round {currentRound}/{totalRounds}\n                  </span>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <Timer className=\"w-4 h-4 text-red-500\" />\n                  <span className=\"text-sm font-medium text-red-600\">\n                    {formatTime(timeRemaining)}\n                  </span>\n                </div>\n              </div>\n            )}\n\n            {/* Control Buttons */}\n            <div className=\"flex items-center space-x-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setShowPlayerList(!showPlayerList)}\n                className=\"flex items-center space-x-1\"\n              >\n                <Users className=\"w-4 h-4\" />\n                <span>Players</span>\n              </Button>\n\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setShowChat(!showChat)}\n                className=\"flex items-center space-x-1\"\n              >\n                <MessageCircle className=\"w-4 h-4\" />\n                <span>Chat</span>\n              </Button>\n\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setIsMuted(!isMuted)}\n                className=\"flex items-center space-x-1\"\n              >\n                {isMuted ? (\n                  <VolumeX className=\"w-4 h-4\" />\n                ) : (\n                  <Volume2 className=\"w-4 h-4\" />\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Game Area */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          {/* Drawing Canvas */}\n          <div className=\"lg:col-span-3\">\n            <div className=\"bg-white rounded-lg shadow-lg p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">Drawing Canvas</h2>\n                \n                {isGameActive && isCurrentDrawer && (\n                  <div className=\"flex items-center space-x-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={handleClearCanvas}\n                      className=\"flex items-center space-x-1\"\n                    >\n                      <RotateCcw className=\"w-4 h-4\" />\n                      <span>Clear</span>\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={handleSkipTurn}\n                      className=\"flex items-center space-x-1\"\n                    >\n                      <SkipForward className=\"w-4 h-4\" />\n                      <span>Skip</span>\n                    </Button>\n                  </div>\n                )}\n              </div>\n\n              <DrawingCanvas width={800} height={600} />\n            </div>\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"lg:col-span-1 space-y-6\">\n            {/* Game Controls */}\n            {!isGameActive && (\n              <div className=\"bg-white rounded-lg shadow-lg p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Game Controls</h3>\n                <div className=\"space-y-3\">\n                  <Button\n                    onClick={handleStartGame}\n                    className=\"w-full\"\n                    disabled={players.length < 3}\n                  >\n                    <Play className=\"w-4 h-4 mr-2\" />\n                    Start Game\n                  </Button>\n                  \n                  <Button\n                    variant={isReady ? \"default\" : \"outline\"}\n                    onClick={handleReadyToggle}\n                    className=\"w-full\"\n                  >\n                    {isReady ? \"Ready\" : \"Not Ready\"}\n                  </Button>\n                </div>\n                \n                {players.length < 3 && (\n                  <p className=\"text-sm text-gray-500 mt-2\">\n                    Need at least 3 players to start\n                  </p>\n                )}\n              </div>\n            )}\n\n            {/* Player List */}\n            {showPlayerList && (\n              <div className=\"bg-white rounded-lg shadow-lg p-6\">\n                <PlayerList players={players} />\n              </div>\n            )}\n\n            {/* Chat */}\n            {showChat && (\n              <ChatBox />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GameRoom; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}